import{a as f,S as y,i as n}from"./assets/vendor-C_7oAj77.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function i(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(t){if(t.ep)return;t.ep=!0;const a=i(t);fetch(t.href,a)}})();const d={position:"topRight",timeout:6e3,backgroundColor:"#ef4040",titleColor:" #fafafb",messageColor:" #fafafb",iconUrl:new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'%20fill='%23FAFAFB'/%3e%3cpath%20d='M6.969%206.969a.75.75%200%200%201%201.062%200L12%2010.939l3.969-3.97a.75.75%200%201%201%201.062%201.062L13.061%2012l3.97%203.969a.752.752%200%200%201-1.062%201.062L12%2013.061l-3.969%203.97a.752.752%200%200%201-1.282-.531.751.751%200%200%201%20.22-.531L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'%20fill='%23FAFAFB'/%3e%3c/svg%3e",import.meta.url).href},g={position:"topRight",timeout:5e3,backgroundColor:"#4e75ff",titleColor:"rgb(255, 255, 255",messageColor:"rgb(255, 255, 255)"},s={searchForm:document.querySelector(".js-form"),galleryList:document.querySelector(".js-gallery"),loader:document.querySelector(".loader"),loadMoreBtn:document.querySelector(".next-page-btn")},m=r=>r.map(e=>`<li class="gallery-item">
        <a class = 'large-img' href="${e.largeImageURL}">
          <img src="${e.webformatURL}" alt="${L(e.tags)}" loading="lazy" />
        </a>
        <div class="post-stats">
         <div class="stats-unit">
          <p class="stat-header">Likes</p>
          <p class ="stat-amount">${e.likes}</p>
         </div>
          <div class="stats-unit">
          <p class="stat-header">Views</p>
          <p class ="stat-amount">${e.views}</p>
         </div>
            <div class="stats-unit">
          <p class="stat-header">Comments</p>
           <p class ="stat-amount">${e.comments}</p>
         </div>
          <div class="stats-unit">
          <p class="stat-header">Downloads</p>
           <p class ="stat-amount">${e.downloads}</p>
         </div>
        </div>
      </li>`).join("");function L(r){return r.split(", ").filter((e,i,l)=>l.indexOf(e)===i).join(", ")}const v="48449909-94b1753e13b470dade065bce0",w="https://pixabay.com/api/",b={key:v,image_type:"photo",orientation:"horizontal",safesearch:"true",page:1,per_page:15},h=(r,e=1)=>{const i=new URLSearchParams({...b,q:r,page:e});return f.get(`${w}?${i}`)},o={query:"",currentPage:1},p=new y(".js-gallery a",{captionsData:"alt",captionsDelay:250}),c=r=>{s.loader.style.display=r?"block":"none"},P=async r=>{try{if(r.preventDefault(),o.query=r.currentTarget.elements.name_query.value.trim(),o.query===""){n.warning({...g,title:"Warning",message:"Empty field , please insert your query..."});return}c(!0),s.galleryList.innerHTML="",s.loadMoreBtn.classList.add("is-hidden"),o.currentPage=1;const{data:e}=await h(o.query,o.currentPage);if(c(!1),e.hits.length===0||e.totalHits===0){n.error({...d,title:"",message:"Sorry, there are no images matching your search query. Please try again!"}),s.searchForm.reset();return}s.galleryList.innerHTML=m(e.hits),p.refresh(),Math.ceil(e.totalHits/15)>1&&e.hits.length===15&&s.loadMoreBtn.classList.remove("is-hidden")}catch(e){console.log(e),n.error({...d,title:"Error",message:"Something went wrong... Please try again later."})}},S=async()=>{o.currentPage+=1,c(!0),s.loadMoreBtn.classList.add("is-hidden");try{const{data:{hits:r,totalHits:e}}=await h(o.query,o.currentPage),i=m(r);s.galleryList.insertAdjacentHTML("beforeend",i),p.refresh(),c(!1),s.loadMoreBtn.classList.remove("is-hidden");const l=Math.ceil(e/15),t=document.querySelector(".gallery-item");if(t){const a=t.getBoundingClientRect().height;setTimeout(()=>{window.scrollBy({top:a*2,behavior:"smooth"})},200)}else n.error({...d,title:"Error",message:"Something went wrong... Please try again later."});(r.length<15||o.currentPage>=l)&&(s.loadMoreBtn.classList.add("is-hidden"),n.warning({...g,title:"Warning",message:"We're sorry, but you've reached the end of search results."}))}catch(r){console.error(r),c(!1),n.error({...d,title:"Error",message:"Failed to load more images. Please try again later."})}};s.searchForm.addEventListener("submit",P);s.loadMoreBtn.addEventListener("click",S);
//# sourceMappingURL=index.js.map
